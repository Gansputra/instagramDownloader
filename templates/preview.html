<!DOCTYPE html>
<html lang="id">
<head>
    <title>InstaDownloader by Gansputra</title>
    <meta name="author" content="Gansputra">
    <meta name="description" content="Tools download Instagram gratis buatan Gansputra">
    <meta charset="UTF-8">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
  
  <style>
    body { font-family: 'Outfit', sans-serif; }
    
    /* Animasi Background (Sama seperti Index) */
    @keyframes gradient-xy {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    .animate-gradient {
      background-size: 200% 200%;
      animation: gradient-xy 15s ease infinite;
    }

    /* Animasi Muncul */
    @keyframes fade-up {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-up {
      animation: fade-up 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    }
  </style>
</head>

<body class="bg-gradient-to-br from-gray-900 via-purple-900 to-black text-white min-h-screen p-6 animate-gradient flex flex-col items-center">

  <div class="fixed w-96 h-96 bg-pink-600 rounded-full mix-blend-multiply filter blur-3xl opacity-10 top-0 left-0 -z-10 animate-blob"></div>
  <div class="fixed w-96 h-96 bg-purple-600 rounded-full mix-blend-multiply filter blur-3xl opacity-10 bottom-0 right-0 -z-10 animate-blob animation-delay-2000"></div>

  <div class="relative w-full max-w-5xl bg-white/10 backdrop-blur-xl border border-white/20 shadow-2xl rounded-2xl p-6 md:p-10 animate-fade-up">
    
    <div class="flex flex-col md:flex-row items-center justify-between mb-8 gap-4">
      <a href="/reset" class="flex items-center gap-2 text-gray-300 hover:text-white transition-colors group">
        <div class="p-2 rounded-full bg-white/5 group-hover:bg-white/20 transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
        </div>
        <span class="font-medium">Download Lain</span>
       </a>

      <h1 class="text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-400 to-purple-300">
        Preview Hasil
      </h1>
      
      <div class="hidden md:block w-32"></div> 
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
      {% for item in media %}
        <div class="group relative bg-gray-900/50 rounded-xl overflow-hidden border border-white/10 shadow-lg hover:shadow-pink-500/20 transition-all duration-300">
          {% if item.type == 'image' %}
            <img src="/static/downloads/{{ item.file }}" class="w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-500">
            <div class="absolute top-2 right-2 bg-black/60 backdrop-blur text-xs px-2 py-1 rounded-md border border-white/20">IMG</div>
          {% else %}
            <video controls class="w-full h-64 object-cover bg-black">
              <source src="/static/downloads/{{ item.file }}" type="video/mp4">
            </video>
            <div class="absolute top-2 right-2 bg-pink-600/80 backdrop-blur text-xs px-2 py-1 rounded-md border border-white/20">VID</div>
          {% endif %}
        </div>
      {% endfor %}
    </div>

    <div class="my-8 border-t border-white/10"></div>

    <div class="max-w-xl mx-auto text-center">
      <h2 class="text-xl font-semibold mb-4 text-gray-200">Simpan Semua ke Perangkat</h2>
      
      <form action="/download" method="POST" id="downloadForm" class="space-y-4">
        <div class="relative">
          <input 
            type="text" 
            name="zipname" 
            required 
            placeholder="Beri nama file ZIP (contoh: liburanKeIsekai) jangan pakek simbol" 
            class="w-full pl-4 pr-4 py-4 bg-gray-900/50 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all shadow-inner text-center"
          >
        </div>

        <button 
          type="submit" 
          id="submitBtn"
          class="w-full relative group overflow-hidden bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 text-white font-bold py-4 rounded-xl shadow-lg shadow-pink-600/30 transform transition-all duration-200 hover:-translate-y-1"
        >
          <span class="relative z-10 flex items-center justify-center gap-2" id="btnText">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>
            Download ZIP
          </span>
          <span id="loader" class="hidden absolute inset-0 flex items-center justify-center bg-gray-900/10 backdrop-blur-sm z-20">
            <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <span class="ml-2">Mengompres...</span>
          </span>
        </button>
      </form>
      <div class="mt-8 pt-6 border-t border-white/10 text-center">
      <p class="text-xs text-gray-500">Made with ☕ & Python</p>
      <p class="text-gray-400 text-sm mb-3">
        Developed with ❤️ by <span class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-400">Gansputra</span>
      </p>
      
      <div class="flex justify-center gap-4">
        <a href="https://github.com/Gansputra" target="_blank" class="p-2 rounded-full bg-white/5 hover:bg-white/20 hover:text-pink-400 transition-all duration-300 transform hover:scale-110">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
        </a>

        <a href="https://instagram.com/gans.putra_" target="_blank" class="p-2 rounded-full bg-white/5 hover:bg-white/20 hover:text-pink-500 transition-all duration-300 transform hover:scale-110">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
        </a>
      </div>
    </div>
  </div>
    </div>

  </div>

  <script>
    const form = document.getElementById('downloadForm');
    const btn = document.getElementById('submitBtn');
    const btnText = document.getElementById('btnText');
    const loader = document.getElementById('loader');

    form.addEventListener('submit', function() {
      // Delay sedikit biar user lihat efek kliknya
      setTimeout(() => {
        btn.classList.add('cursor-not-allowed', 'opacity-90');
        btnText.classList.add('opacity-0');
        loader.classList.remove('hidden');
      }, 100);
    });
  </script>

</body>
</html>